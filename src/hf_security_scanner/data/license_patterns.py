"""License patterns and compliance data."""

# Open source licenses with their properties
LICENSE_PATTERNS = {
    "apache-2.0": {
        "name": "Apache License 2.0",
        "commercial_use": True,
        "modification": True,
        "distribution": True,
        "patent_grant": True,
        "risk_level": "low",
        "category": "osi_approved",
        "requires_attribution": True,
    },
    "mit": {
        "name": "MIT License",
        "commercial_use": True,
        "modification": True,
        "distribution": True,
        "patent_grant": False,
        "risk_level": "low",
        "category": "osi_approved",
        "requires_attribution": True,
    },
    "gpl-3.0": {
        "name": "GNU General Public License v3.0",
        "commercial_use": True,
        "modification": True,
        "distribution": True,
        "patent_grant": True,
        "risk_level": "medium",
        "category": "strong_copyleft",
        "requires_attribution": True,
        "copyleft": True,
        "requires_source_disclosure": True,
    },
    "gpl-2.0": {
        "name": "GNU General Public License v2.0",
        "commercial_use": True,
        "modification": True,
        "distribution": True,
        "patent_grant": False,
        "risk_level": "medium",
        "requires_attribution": True,
        "copyleft": True,
        "requires_source_disclosure": True,
    },
    "lgpl-3.0": {
        "name": "GNU Lesser General Public License v3.0",
        "commercial_use": True,
        "modification": True,
        "distribution": True,
        "patent_grant": True,
        "risk_level": "medium",
        "category": "weak_copyleft",
        "requires_attribution": True,
        "copyleft": "weak",
    },
    "bsd-3-clause": {
        "name": "BSD 3-Clause License",
        "commercial_use": True,
        "modification": True,
        "distribution": True,
        "patent_grant": False,
        "risk_level": "low",
        "category": "osi_approved",
        "requires_attribution": True,
    },
    "bsd-2-clause": {
        "name": "BSD 2-Clause License",
        "commercial_use": True,
        "modification": True,
        "distribution": True,
        "patent_grant": False,
        "risk_level": "low",
        "category": "osi_approved",
        "requires_attribution": True,
    },
    "cc-by-4.0": {
        "name": "Creative Commons Attribution 4.0",
        "commercial_use": True,
        "modification": True,
        "distribution": True,
        "patent_grant": False,
        "risk_level": "low",
        "category": "osi_approved",
        "requires_attribution": True,
    },
    "cc-by-sa-4.0": {
        "name": "Creative Commons Attribution Share Alike 4.0",
        "commercial_use": True,
        "modification": True,
        "distribution": True,
        "patent_grant": False,
        "risk_level": "medium",
        "category": "weak_copyleft",
        "requires_attribution": True,
        "copyleft": True,
    },
    "cc-by-nc-4.0": {
        "name": "Creative Commons Attribution Non Commercial 4.0",
        "commercial_use": False,
        "modification": True,
        "distribution": True,
        "patent_grant": False,
        "risk_level": "high",
        "category": "non_commercial",
        "requires_attribution": True,
    },
    "openrail": {
        "name": "Open RAIL License",
        "commercial_use": True,
        "modification": True,
        "distribution": True,
        "patent_grant": False,
        "risk_level": "low",
        "category": "special_purpose",
        "requires_attribution": True,
        "use_restrictions": True,
    },
    "bigscience-openrail-m": {
        "name": "BigScience Open RAIL-M License",
        "commercial_use": True,
        "modification": True,
        "distribution": True,
        "patent_grant": False,
        "risk_level": "low",
        "category": "special_purpose",
        "requires_attribution": True,
        "use_restrictions": True,
    },
    "creativeml-openrail-m": {
        "name": "CreativeML Open RAIL-M License",
        "commercial_use": True,
        "modification": True,
        "distribution": True,
        "patent_grant": False,
        "risk_level": "low",
        "category": "special_purpose",
        "requires_attribution": True,
        "use_restrictions": True,
    },
    "bigcode-openrail-m": {
        "name": "BigCode Open RAIL-M License",
        "commercial_use": True,
        "modification": True,
        "distribution": True,
        "patent_grant": False,
        "risk_level": "low",
        "category": "special_purpose",
        "requires_attribution": True,
        "use_restrictions": True,
    },
    "openrail++": {
        "name": "OpenRAIL++ License",
        "commercial_use": True,
        "modification": True,
        "distribution": True,
        "patent_grant": False,
        "risk_level": "low",
        "category": "special_purpose",
        "requires_attribution": True,
        "use_restrictions": True,
    },
    "llama2": {
        "name": "Llama 2 Community License",
        "commercial_use": True,
        "modification": True,
        "distribution": True,
        "patent_grant": False,
        "risk_level": "low",
        "category": "special_purpose",
        "requires_attribution": True,
        "use_restrictions": True,
    },
    "llama3": {
        "name": "Llama 3 Community License",
        "commercial_use": True,
        "modification": True,
        "distribution": True,
        "patent_grant": False,
        "risk_level": "low",
        "category": "special_purpose",
        "requires_attribution": True,
        "use_restrictions": True,
    },
    "gemma": {
        "name": "Gemma Terms of Use",
        "commercial_use": True,
        "modification": True,
        "distribution": True,
        "patent_grant": False,
        "risk_level": "medium-high",
        "category": "special_purpose",
        "requires_attribution": True,
        "use_restrictions": True,
        "weight_redistribution": "restricted",
        "derivative_works": "allowed",
        "attribution_instructions": "Include 'Gemma' in model name and credit Google",
    },
    "llama3": {
        "name": "Llama 3 Community License",
        "commercial_use": True,
        "modification": True,
        "distribution": True,
        "patent_grant": False,
        "risk_level": "low",
        "category": "special_purpose",
        "requires_attribution": True,
        "use_restrictions": True,
        "weight_redistribution": "restricted",
        "derivative_works": "allowed",
        "attribution_instructions": "Include 'Llama 3' in model name",
    },
    "qwen-2": {
        "name": "Qwen 2 License",
        "commercial_use": True,
        "modification": True,
        "distribution": True,
        "patent_grant": False,
        "risk_level": "medium",
        "category": "special_purpose",
        "requires_attribution": True,
        "use_restrictions": True,
        "weight_redistribution": "allowed",
        "derivative_works": "allowed",
    },
    "mit": {
        "name": "MIT License",
        "commercial_use": True,
        "modification": True,
        "distribution": True,
        "patent_grant": False,
        "risk_level": "low",
        "category": "osi_approved",
        "requires_attribution": True,
        "weight_redistribution": "allowed",
        "derivative_works": "allowed",
    },
    "apache-2.0": {
        "name": "Apache License 2.0",
        "commercial_use": True,
        "modification": True,
        "distribution": True,
        "patent_grant": True,
        "risk_level": "low",
        "category": "osi_approved",
        "requires_attribution": True,
        "weight_redistribution": "allowed",
        "derivative_works": "allowed",
    },
    "agpl-3.0": {
        "name": "GNU Affero General Public License v3.0",
        "commercial_use": True,
        "modification": True,
        "distribution": True,
        "patent_grant": True,
        "risk_level": "high",
        "category": "strong_copyleft",
        "requires_attribution": True,
        "copyleft": "network",
        "requires_source_disclosure": True,
    },
    "epl-2.0": {
        "name": "Eclipse Public License 2.0",
        "commercial_use": True,
        "modification": True,
        "distribution": True,
        "patent_grant": True,
        "risk_level": "medium",
        "category": "weak_copyleft",
        "requires_attribution": True,
        "copyleft": "weak",
    },
    "mpl-2.0": {
        "name": "Mozilla Public License 2.0",
        "commercial_use": True,
        "modification": True,
        "distribution": True,
        "patent_grant": True,
        "risk_level": "low",
        "category": "osi_approved",
        "requires_attribution": True,
    },
    "cc-by-nc-sa-4.0": {
        "name": "Creative Commons Attribution Non Commercial Share Alike 4.0",
        "commercial_use": False,
        "modification": True,
        "distribution": True,
        "patent_grant": False,
        "risk_level": "high",
        "category": "non_commercial",
        "requires_attribution": True,
        "copyleft": True,
    },
    "cc0-1.0": {
        "name": "Creative Commons Zero 1.0",
        "commercial_use": True,
        "modification": True,
        "distribution": True,
        "patent_grant": False,
        "risk_level": "low",
        "category": "osi_approved",
        "requires_attribution": False,
    },
    "other": {
        "name": "Other/Custom License",
        "commercial_use": None,
        "modification": None,
        "distribution": None,
        "patent_grant": False,
        "risk_level": "medium",
        "category": "unknown",
        "requires_attribution": None,
        "requires_review": True,
    },
}

# Problematic licenses that should be flagged
PROBLEMATIC_LICENSES = {
    "other": {
        "reason": "Custom or non-standard license - requires manual review",
        "severity": "medium",
        "recommendation": "Manually review complete license terms before use"
    },
    "cc-by-nc-4.0": {
        "reason": "Non-commercial use only",
        "severity": "medium",
        "recommendation": "Cannot be used for commercial purposes"
    },
    "cc-by-nc-sa-4.0": {
        "reason": "Non-commercial use only with share-alike requirement",
        "severity": "medium",
        "recommendation": "Cannot be used for commercial purposes and derivatives must use same license"
    },
    "gpl-3.0": {
        "reason": "Strong copyleft - requires derivative works to be GPL",
        "severity": "medium",
        "recommendation": "Review GPL compliance requirements for your use case"
    },
    "agpl-3.0": {
        "reason": "Network copyleft - requires source disclosure even for SaaS",
        "severity": "high",
        "recommendation": "Avoid for commercial SaaS applications"
    },
}

# License compatibility matrix
LICENSE_COMPATIBILITY = {
    "mit": ["apache-2.0", "gpl-3.0", "lgpl-3.0", "bsd-3-clause"],
    "apache-2.0": ["gpl-3.0", "lgpl-3.0"],
    "bsd-3-clause": ["apache-2.0", "gpl-3.0", "lgpl-3.0", "mit"],
    "gpl-3.0": [],  # GPL is one-way compatible
}
